{"ast":null,"code":"var _class;\nimport { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/events.service\";\nexport class AddeventComponent {\n  constructor(formBuilder, eventsService) {\n    this.formBuilder = formBuilder;\n    this.eventsService = eventsService;\n    // Initialize the form with form controls and validation\n    this.eventForm = this.formBuilder.group({\n      eventTitle: ['', Validators.required],\n      eventDescription: ['', Validators.required],\n      eventPrice: [0, [Validators.required, Validators.min(0)]],\n      eventStartDate: ['', Validators.required],\n      eventEndDate: ['', Validators.required],\n      eventNumberOfTicketAvailable: [0, [Validators.required, Validators.min(0)]],\n      eventImage: ['']\n    });\n  }\n  // Function to submit the form data\n  onSubmit() {\n    if (this.eventForm.valid) {\n      // Send the form data to backend API\n      const formData = this.eventForm.value;\n      const startDate = new Date(formData.eventStartDate); //to send date format\n      const endDate = new Date(formData.eventEndDate); //to send date format\n      const newEvent = {\n        eventId: \"\",\n        eventVariations: \"\",\n        eventCreatedById: \"\",\n        id: \"00000000-0000-0000-0000-000000000000\",\n        eventTitle: formData.eventTitle,\n        eventDescription: formData.eventDescription,\n        eventPrice: formData.eventPrice,\n        eventStartDate: startDate,\n        eventEndDate: endDate,\n        eventNumberOfTicketAvailable: formData.eventNumberOfTicketAvailable,\n        eventImage: formData.eventImage\n      };\n      console.log(newEvent);\n      // Call the createEvent method from the EventsService to add the event\n      this.eventsService.createEvent(newEvent).subscribe(response => {\n        console.log('Event added successfully:', response);\n        // Handle success, e.g., navigate to a different page\n      }, error => {\n        console.error('Error adding event:', error);\n        // Handle error\n      });\n    } else {\n      // Handle form validation errors\n      console.log('Form contains validation errors.');\n    }\n  }\n}\n_class = AddeventComponent;\n_class.ɵfac = function AddeventComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EventsService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-addevent\"]],\n  decls: 39,\n  vars: 1,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"eventTitle\"], [\"type\", \"text\", \"id\", \"eventTitle\", \"formControlName\", \"eventTitle\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"eventDescription\"], [\"id\", \"eventDescription\", \"formControlName\", \"eventDescription\", \"rows\", \"4\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"eventPrice\"], [\"type\", \"number\", \"id\", \"eventPrice\", \"formControlName\", \"eventPrice\", \"required\", \"\", 1, \"form-control\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"eventStartDate\"], [\"type\", \"date\", \"id\", \"eventStartDate\", \"formControlName\", \"eventStartDate\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"eventEndDate\"], [\"type\", \"date\", \"id\", \"eventEndDate\", \"formControlName\", \"eventEndDate\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"eventNumberOfTicketAvailable\"], [\"type\", \"number\", \"id\", \"eventNumberOfTicketAvailable\", \"formControlName\", \"eventNumberOfTicketAvailable\", \"required\", \"\", 1, \"form-control\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"eventImage\"], [\"type\", \"text\", \"id\", \"eventImage\", \"formControlName\", \"eventImage\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function AddeventComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtext(5, \"Add Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function AddeventComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n      i0.ɵɵtext(10, \"Event Title:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Event Description:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"textarea\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 7)(17, \"label\", 12);\n      i0.ɵɵtext(18, \"Event Price:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 14)(21, \"div\", 15)(22, \"label\", 16);\n      i0.ɵɵtext(23, \"Start Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 15)(26, \"label\", 18);\n      i0.ɵɵtext(27, \"End Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 7)(30, \"label\", 20);\n      i0.ɵɵtext(31, \"Number of Tickets:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 22)(34, \"label\", 23);\n      i0.ɵɵtext(35, \"Event Image URL:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"input\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 25);\n      i0.ɵɵtext(38, \"Add Event\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.eventForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","AddeventComponent","constructor","formBuilder","eventsService","eventForm","group","eventTitle","required","eventDescription","eventPrice","min","eventStartDate","eventEndDate","eventNumberOfTicketAvailable","eventImage","onSubmit","valid","formData","value","startDate","Date","endDate","newEvent","eventId","eventVariations","eventCreatedById","id","console","log","createEvent","subscribe","response","error","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","EventsService","selectors","decls","vars","consts","template","AddeventComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AddeventComponent_Template_form_ngSubmit_7_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["D:\\D program files\\projectsdotnet\\angular\\second\\Ticket.UI\\src\\app\\components\\addevent\\addevent.component.ts","D:\\D program files\\projectsdotnet\\angular\\second\\Ticket.UI\\src\\app\\components\\addevent\\addevent.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {EventsService} from \"../../services/events.service\";\nimport {EventModel} from \"../../models/event.model\";\n\n@Component({\n  selector: 'app-addevent',\n  templateUrl: './addevent.component.html',\n  styleUrls: ['./addevent.component.css']\n})\nexport class AddeventComponent {\n\n  eventForm: FormGroup; // Declare a FormGroup for handling the form\n\n  constructor(private formBuilder: FormBuilder,private eventsService:EventsService) {\n    // Initialize the form with form controls and validation\n    this.eventForm = this.formBuilder.group({\n      eventTitle: ['', Validators.required],\n      eventDescription: ['', Validators.required],\n      eventPrice: [0, [Validators.required, Validators.min(0)]],\n      eventStartDate: ['', Validators.required],\n      eventEndDate: ['', Validators.required],\n      eventNumberOfTicketAvailable: [0, [Validators.required, Validators.min(0)]],\n      eventImage: [''],\n    });\n  }\n\n  // Function to submit the form data\n  onSubmit() {\n\n    if (this.eventForm.valid) {\n      // Send the form data to backend API\n      const formData = this.eventForm.value;\n      const startDate = new Date(formData.eventStartDate);//to send date format\n      const endDate = new Date(formData.eventEndDate);//to send date format\n      const newEvent: EventModel = {\n        eventId:\"\",\n        eventVariations:\"\",\n        eventCreatedById:\"\",\n        id: \"00000000-0000-0000-0000-000000000000\",\n        eventTitle: formData.eventTitle,\n        eventDescription: formData.eventDescription,\n        eventPrice: formData.eventPrice,\n        eventStartDate: startDate,\n        eventEndDate: endDate,\n        eventNumberOfTicketAvailable: formData.eventNumberOfTicketAvailable,\n        eventImage: formData.eventImage,\n      };\n\n      console.log(newEvent)\n      // Call the createEvent method from the EventsService to add the event\n      this.eventsService.createEvent(newEvent).subscribe(\n        (response) => {\n          console.log('Event added successfully:', response);\n          // Handle success, e.g., navigate to a different page\n        },\n        (error) => {\n          console.error('Error adding event:', error);\n          // Handle error\n        }\n      );\n    } else {\n      // Handle form validation errors\n      console.log('Form contains validation errors.');\n    }\n  }\n}\n","<div class=\"container mt-5\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-md-6\">\n      <div class=\"card\">\n        <div class=\"card-header\">Add Event</div>\n        <div class=\"card-body\">\n          <form [formGroup]=\"eventForm\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"form-group\">\n              <label for=\"eventTitle\">Event Title:</label>\n              <input type=\"text\" class=\"form-control\" id=\"eventTitle\" formControlName=\"eventTitle\" required>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"eventDescription\">Event Description:</label>\n              <textarea class=\"form-control\" id=\"eventDescription\" formControlName=\"eventDescription\" rows=\"4\" required></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"eventPrice\">Event Price:</label>\n              <input type=\"number\" class=\"form-control\" id=\"eventPrice\" formControlName=\"eventPrice\" required>\n            </div>\n            <div class=\"form-row\">\n              <div class=\"form-group col-md-6\">\n                <label for=\"eventStartDate\">Start Date:</label>\n                <input type=\"date\" class=\"form-control\" id=\"eventStartDate\" formControlName=\"eventStartDate\" required>\n              </div>\n              <div class=\"form-group col-md-6\">\n                <label for=\"eventEndDate\">End Date:</label>\n                <input type=\"date\" class=\"form-control\" id=\"eventEndDate\" formControlName=\"eventEndDate\" required>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"eventNumberOfTicketAvailable\">Number of Tickets:</label>\n              <input type=\"number\" class=\"form-control\" id=\"eventNumberOfTicketAvailable\" formControlName=\"eventNumberOfTicketAvailable\" required>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"eventImage\">Event Image URL:</label>\n              <input type=\"text\" class=\"form-control\" id=\"eventImage\" formControlName=\"eventImage\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Add Event</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}