{"ast":null,"code":"var _class;\nimport { environment } from \"../../../environments/environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class PaymentComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.baseApiUrl = environment.baseapiUrl;\n    this.eventPrice = 0;\n    this.cardholderName = \"\";\n    this.creditCardNumber = \"\";\n    this.expirationDate = \"\";\n    this.cvv = \"\";\n  }\n  //amount: number=100;\n  makePayment() {\n    const paymentRequest = {\n      cardholderName: this.cardholderName,\n      creditCardNumber: this.creditCardNumber,\n      expirationDate: this.expirationDate,\n      cvv: this.cvv,\n      amount: this.eventPrice\n    };\n    this.http.post(this.baseApiUrl + '/api/payments/make-payment', paymentRequest).subscribe(response => {\n      console.log('Payment successful:', response);\n      this.router.navigate(['/success']);\n      // Handle success response from the backend\n    }, error => {\n      console.error('Payment failed:', error);\n      // Handle error response from the backend\n      this.router.navigate(['/error']);\n    });\n  }\n}\n_class = PaymentComponent;\n_class.ɵfac = function PaymentComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-payment\"]],\n  inputs: {\n    eventPrice: \"eventPrice\"\n  },\n  decls: 31,\n  vars: 5,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-6\", \"mb-5\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"cardholderName\"], [\"type\", \"text\", \"id\", \"cardholderName\", \"name\", \"cardholderName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"creditCardNumber\"], [\"type\", \"text\", \"id\", \"creditCardNumber\", \"name\", \"creditCardNumber\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"expirationDate\"], [\"type\", \"text\", \"id\", \"expirationDate\", \"name\", \"expirationDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cvv\"], [\"type\", \"text\", \"id\", \"cvv\", \"name\", \"cvv\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"name\", \"amount\", \"readonly\", \"readonly\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function PaymentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtext(5, \"Payment Form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.makePayment();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n      i0.ɵɵtext(10, \"Cardholder Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.cardholderName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Credit Card Number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.creditCardNumber = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 12)(17, \"div\", 13)(18, \"label\", 14);\n      i0.ɵɵtext(19, \"Expiration Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.expirationDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 13)(22, \"label\", 16);\n      i0.ɵɵtext(23, \"CVV:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.cvv = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 7)(26, \"label\", 18);\n      i0.ɵɵtext(27, \"Amount:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 19);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.eventPrice = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"button\", 20);\n      i0.ɵɵtext(30, \"Make Payment\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.cardholderName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.creditCardNumber);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.expirationDate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cvv);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.eventPrice);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["environment","PaymentComponent","constructor","http","router","baseApiUrl","baseapiUrl","eventPrice","cardholderName","creditCardNumber","expirationDate","cvv","makePayment","paymentRequest","amount","post","subscribe","response","console","log","navigate","error","i0","ɵɵdirectiveInject","i1","HttpClient","i2","Router","selectors","inputs","decls","vars","consts","template","PaymentComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PaymentComponent_Template_form_ngSubmit_7_listener","PaymentComponent_Template_input_ngModelChange_11_listener","$event","PaymentComponent_Template_input_ngModelChange_15_listener","PaymentComponent_Template_input_ngModelChange_20_listener","PaymentComponent_Template_input_ngModelChange_24_listener","PaymentComponent_Template_input_ngModelChange_28_listener","ɵɵadvance","ɵɵproperty"],"sources":["D:\\D program files\\projectsdotnet\\angular\\second\\Ticket.UI\\src\\app\\components\\payment\\payment.component.ts","D:\\D program files\\projectsdotnet\\angular\\second\\Ticket.UI\\src\\app\\components\\payment\\payment.component.html"],"sourcesContent":["import {Component, Input} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {environment} from \"../../../environments/environment\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.component.html',\n  styleUrls: ['./payment.component.css']\n})\n\nexport class PaymentComponent {\n  constructor(private http: HttpClient, private router: Router) {\n  }\n\n  baseApiUrl: string = environment.baseapiUrl;\n  @Input() eventPrice: number = 0;\n\n  cardholderName: string = \"\";\n  creditCardNumber: string = \"\";\n  expirationDate: string = \"\";\n  cvv: string = \"\";\n\n  //amount: number=100;\n  makePayment() {\n    const paymentRequest = {\n      cardholderName: this.cardholderName,\n      creditCardNumber: this.creditCardNumber,\n      expirationDate: this.expirationDate,\n      cvv: this.cvv,\n      amount: this.eventPrice,\n    };\n\n\n    this.http.post(this.baseApiUrl + '/api/payments/make-payment', paymentRequest).subscribe(\n      (response: any) => {\n        console.log('Payment successful:', response);\n        this.router.navigate(['/success']);\n        // Handle success response from the backend\n      },\n      (error) => {\n        console.error('Payment failed:', error);\n        // Handle error response from the backend\n        this.router.navigate(['/error']);\n      }\n    );\n  }\n}\n","<div class=\"container mt-5\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-md-6 mb-5\">\n      <div class=\"card\">\n        <div class=\"card-header\">Payment Form</div>\n        <div class=\"card-body\">\n          <form (ngSubmit)=\"makePayment()\">\n            <div class=\"form-group\">\n              <label for=\"cardholderName\">Cardholder Name:</label>\n              <input type=\"text\" class=\"form-control\" id=\"cardholderName\" [(ngModel)]=\"cardholderName\" name=\"cardholderName\" required>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"creditCardNumber\">Credit Card Number:</label>\n              <input type=\"text\" class=\"form-control\" id=\"creditCardNumber\" [(ngModel)]=\"creditCardNumber\" name=\"creditCardNumber\" required>\n            </div>\n            <div class=\"form-row\">\n              <div class=\"form-group col-md-6\">\n                <label for=\"expirationDate\">Expiration Date:</label>\n                <input type=\"text\" class=\"form-control\" id=\"expirationDate\" [(ngModel)]=\"expirationDate\" name=\"expirationDate\" required>\n              </div>\n              <div class=\"form-group col-md-6\">\n                <label for=\"cvv\">CVV:</label>\n                <input type=\"text\" class=\"form-control\" id=\"cvv\" [(ngModel)]=\"cvv\" name=\"cvv\" required>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"amount\">Amount:</label>\n              <input type=\"number\" class=\"form-control\" id=\"amount\" [(ngModel)]=\"eventPrice\" name=\"amount\" readonly=\"readonly\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Make Payment</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}